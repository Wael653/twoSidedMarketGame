<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Anleitung – Flohmarktspiel</title>

<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;800&display=swap" rel="stylesheet">

<style>
  :root{
    --bg-1:#F6D19A;
    --bg-2:#E8B971;
    --card:#F7E6C8;
    --text:#3A2D1F;
    --muted:#6c584c;
    --accent:#2E7D32;
    --accent-2:#1B5E20;
    --bullet:#614a36;
    --shadow: 0 20px 40px rgba(0,0,0,.18);
    --radius: 22px;
  }
/*
  *{box-sizing:border-box}
  html,body{height:100%}

  .board{
    width:min(920px, 100%);
    background:var(--card);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    border:3px solid rgba(0,0,0,.08);
    padding:28px clamp(22px, 4vw, 40px) 36px;
    position:relative;
  }
  */

  .header{
    display:flex;
    flex-direction: column;
    gap:1rem;
    text-align:center;
    margin:6px 0 8px;
  }
  .title{
    font-size: 3.5rem;
    line-height:1.05;
    margin:0;
    letter-spacing:.2px;
    font-weight:800;
  }
  .subtitle{
    font-size:clamp(18px, 2.3vw, 26px);
    color:var(--muted);
    margin:0.35rem 0 0.2rem;
    font-weight:700;
  }

  .players{
    display:grid;
    grid-template-columns:1fr auto 1fr;
    gap:3rem;
    align-items:end;
    justify-items:center;
    margin:8px 0 6px;
  }

.avatar {
  width: clamp(48px, 25cqw, 164px);
  height: clamp(48px, 25cqw, 164px);
  border-radius: 50%;                 
  border:8px solid #f2d6ae;
  box-shadow: inset 0 2px 8px rgba(0,0,0,.08);     
  display:flex;
  align-items:center;
  justify-content:center;                    
}

@container (max-width: 350px) {
  .avatar {
    width: 38px;
    height: 38px;
  }
}
  .face{
    width:86%;
    height:86%;
    border-radius:50%;
    background:
      radial-gradient(circle at 50% 30%, #3b342d 0 26%, transparent 27%),
      radial-gradient(circle at 50% 62%, #d18c4e 0 28%, #c97b36 29% 42%, transparent 43%),
      radial-gradient(circle at 50% 75%, #3b342d 0 9%, transparent 10%),
      linear-gradient(#f7cf99,#efb66d);
    filter:saturate(.95);
    box-shadow:0 6px 18px rgba(0,0,0,.10);
  }
  /* zweite Haut-/Haarfarbe für Spieler 2 */
  .face.dark{
    background:
      radial-gradient(circle at 50% 30%, #2b251f 0 26%, transparent 27%),
      radial-gradient(circle at 50% 62%, #8a4e21 0 28%, #6f3f1a 29% 42%, transparent 43%),
      radial-gradient(circle at 50% 75%, #2b251f 0 9%, transparent 10%),
      linear-gradient(#c88a4c,#a8642b);
  }

  .player{
    text-align:center; 
  }
  .player .label{
    color: #7e5d4a;
    margin-top:14px;
    font-size: 1.5rem;
    font-weight:900;
    letter-spacing:.6px;
  }

  .arrow{
    align-self:center;
    font-size:42px;
    opacity:0.85;
    gap:14px;
  }
  .arrow span{display:inline-block}
  .arrow .left{transform:scaleX(-1)}

  .rules{
    margin:18px auto 10px;
    font-size:clamp(18px, 2.1vw, 22px);
    line-height:1.55;
    width:min(780px, 100%);
    color: #7e5d4a;

  }
  .rules ul{
    margin:0; padding:0 0 0 1.1rem;
    list-style:none;
  }
  .rules li{
    margin:.55rem 0;
    padding-left:.6rem;
    position:relative;
  }
  .rules li::before{
    content:"•";
    position:absolute; left:-1.1rem;
    font-size:1.4em; line-height:1;
    color:var(--bullet);
  }

  .cta{
    margin-top:20px;
    display:grid;
    place-items:center;
  }
  .btn{
    appearance:none; border:0; cursor:pointer;
    font: 900 clamp(18px,2.6vw,28px)/1 "Nunito",sans-serif;
    padding:16px clamp(26px, 6vw, 46px);
    border-radius:18px;
    color:#f1ffef;
    background:linear-gradient(180deg, #3FAF47, #2E8B38);
    box-shadow:
      0 14px 0 #1e6e25,
      0 22px 28px rgba(20,80,30,.35);
    transform:translateY(0);
    transition:transform .08s ease, box-shadow .08s ease, filter .15s ease;
  }
  .btn:active{
    transform:translateY(6px);
    box-shadow:
      0 8px 0 #1e6e25,
      0 10px 16px rgba(20,80,30,.25);
    filter:saturate(.95) brightness(.98);
  }

  /* Deko – kleine Markt-Schatten in den Ecken */
  .board::before,
  .board::after{
    content:"";
    position:absolute;
    width:120px; height:120px;
    background: radial-gradient(40% 40% at 50% 60%, rgba(0,0,0,.08), transparent 60%);
    filter: blur(10px);
    z-index:-1;
  }
  .board::before{left:-30px; top:-30px;}
  .board::after{right:-30px; bottom:-30px;}

.avatar img{
  width:95%;
  height:95%;
  display:block;
}

/*
.card-explanation {
    width: 100%;
    margin-top: 7rem;
}
*/
.overlay {
    display: flex;
    justify-content: center;
    align-items: center;
}
.header > h1, .header > div  {
    font-family: Sans-serif;
    color: #7e5d4a;
    margin-bottom: 0.5rem;
}
.card {
    margin-top: 140px;
    transform: scale(1.4);
    padding:35px 25px 35px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border: 2px solid #b6a18b;
    background: #f9edd6;
    border-radius: 24px;
    width: 20%; 
    animation-name: modalIn;
    animation-duration: 0.8s;
    gap: 1rem;
}
  @keyframes modalIn {
     from { opacity: 0; transform: scale(0.5);}
    to { opacity: 1; transform: scale(1);}
}

.card-explanation {  
    margin-top: 0;             /* den großen margin entfernen */
  /*transform-origin: top center; */
    transform: scale(1);
  /*  width: 40%; */
    padding: 30px 50px 30px;
    margin-top: 80px;
    width: 100%;
    box-sizing: border-box;
}

.overlay-instructions{
  container-type: inline-size;
 /* display: flex;
  justify-content: center;
  align-items: center; */
/*align-items: flex-start;*/ 
/*  padding: 20px 20px; */ 
  width: clamp(240px, 80vw, 540px);
  margin: 0 auto; 
}

@container (max-width: 400px) {
  .players {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  .arrow {
    transform: rotate(90deg);
    font-size: 2rem;
  }
  
}


</style>
</head>
<body>
<div class="overlay overlay-instructions">
  <main class="card card-explanation" role="main">
    <header class="header">
      <h1 id="title" class="title">Anleitung</h1>
      <p class="subtitle">Spiel mit einem Freund zusammen!</p>
    </header>

    <section class="players">
        <div class="player">
            <div class="avatar">
                <img src="../../static/images/spieler1.png" alt="Benutzer Avatar">
            </div>
            <div class="label">SPIELER A</div>  
        </div>

        <div class="arrow" aria-hidden="true">
           <span class="left">➔</span>
           <span>➔</span>
        </div>

        <div class="player">
          <div class="avatar">
            <img src="../../static/images/spieler2.png" alt="Benutzer Avatar">
          </div>
          <div class="label">SPIELER B</div>
        </div>
    </section>

    <section class="rules" aria-label="Regeln">
      <ul>
        <li>Das Spiel wird von <strong>zwei Spielern</strong> gespielt:
          <ul>
            <li><strong>Spieler A</strong> betreibt Flohmarkt A</li>
            <li><strong>Spieler B</strong> betreibt Flohmarkt B</li>
          </ul>
        </li>

        <li>Es gibt einen <strong>Gesamtanteil von 1000 Verkäufen</strong> und <strong>100 Käufer</strong>, 
            die sich auf beide Märkte verteilen (nicht unbedingt vollständig verteilt).</li>

        <li>Das Spiel läuft <strong>rundenbasiert</strong> ab:
          <ul>
            <li>Die <strong>Anzahl der Runden</strong> wird auf der <strong>Konfigurationsseite</strong> eingestellt.</li>
            <li>Dort wählt man auch eine <strong>Kombination der Netzwerkeffekte</strong> aus.</li>
          </ul>
        </li>
        <li><strong>Ablauf einer Runde:</strong>
            <li>Beide Spieler legen <em>nacheinander</em> folgende Preise fest:
              <ul>
                <li><strong>Standmiete</strong> für Verkäufer</li>
                <li><strong>Eintrittsgebühr</strong> für Käufer</li>
              </ul>
            </li>
            <li>Danach werden automatisch berechnet:
              <ul>
                <li>Anzahl der Verkäufer auf jedem Markt</li>
                <li>Anzahl der Käufer auf jedem Markt</li>
                <li>Umsätze der beiden Spieler in dieser Runde</li>
              </ul>
            </li>
        </li>
        <li>Am Ende einer Runde sehen beide Spieler:
          <ul>
            <li>Ihre <strong>eigenen Ergebnisse</strong></li>
            <li>Die <strong>Ergebnisse des anderen Spielers</strong></li>
          </ul>
        </li>
        <li>Mit diesen Informationen setzen die Spieler in der <strong>nächsten Runde neue Preise</strong>.</li>
        <li><strong>Ziel:</strong> Jeder Spieler versucht, über die gesamte Spielzeit den <strong>maximalen Gesamtumsatz</strong> zu erreichen.</li>
        <li><strong>Spielende:</strong>
          <ul>
            <li>Nach der letzten Runde werden die <strong>Gesamtumsätze</strong> beider Spieler angezeigt.</li>
            <li>Der Spieler mit dem <strong>höheren Gesamtumsatz</strong> wird als <strong>Gewinner</strong> gekürt.</li>
          </ul>
        </li>
      </ul>
    </section>
    <a href="{% url 'welcome' %}">
      <button class="back btn-instruction">Verstanden!</button>
    </a>
  </main>

</body>
</html>
