<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Anleitung – Flohmarktspiel</title>

<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;800&display=swap" rel="stylesheet">

<style>
  .title {
    font-size: max(22px,9cqw);
    line-height:1.05;
    margin:0;
    letter-spacing:.2px;
    font-weight:800;
  }
  .subtitle {
    font-size:clamp(8.04px, 4cqw, 19px);
    color:#6c584c;
    margin:0.35rem 0 0.2rem;
    font-weight:700;
  }

  .players {
    display:grid;
    grid-template-columns:1fr auto 1fr;
    gap: clamp(0.8rem, 8cqw, 3rem);
    align-items:end;
    justify-items:center;
    margin:8px 0 6px;
  }

.avatar {
  width: clamp(48px, 25cqw, 164px);
  height: clamp(48px, 25cqw, 164px);
  border-radius: 50%;                 
  border: clamp(2.5px, 2cqw, 8px) solid #f2d6ae;

  box-shadow: inset 0 2px 8px rgba(0,0,0,.08);     
  display:flex;
  align-items:center;
  justify-content:center;                    
}
  .player {
    text-align:center; 
  }
  .player .label {
    color: #7e5d4a;
    margin: 0 auto;
    margin-top: clamp(7px, 2cqw, 14px);
    font-size: clamp(0.2rem, 4.7cqw, 1.5rem);
    font-weight:900;
    letter-spacing:.6px;
    white-space: nowrap; 
  }

  .arrow {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap:4px;
  }
  .arrow span {
  font-size: min(6cqw,28px);
  line-height: 1;
}

.arrow .left{
  transform:scaleX(-1)
}
  .rules{
    margin:3cqw auto 4cqw;
    font-size:clamp(0.688rem, 0.388rem + 2vw, 1.063rem);
    line-height:1.55;
    width:min(780px, 100%);
    color: #7e5d4a;
  }
  .rules ul{
    margin:0; padding:0 0 0 1.1rem;
    list-style:none;
  }
  .rules li{
    margin:.55rem 0;
    padding-left:.6rem;
    position:relative;
  }
  .rules li::before{
    content:"•";
    position:absolute; left:-1.1rem;
    font-size:1.4em; line-height:1;
    color:var(--bullet);
  }

  .cta{
    margin-top:20px;
    display:grid;
    place-items:center;
  }
  .btn{
    appearance:none; border:0; cursor:pointer;
    font: 900 clamp(18px,2.6vw,28px)/1 "Nunito",sans-serif;
    padding:16px clamp(26px, 6vw, 46px);
    border-radius:18px;
    color:#f1ffef;
    background:linear-gradient(180deg, #3FAF47, #2E8B38);
    box-shadow:
      0 14px 0 #1e6e25,
      0 22px 28px rgba(20,80,30,.35);
    transform:translateY(0);
    transition:transform .08s ease, box-shadow .08s ease, filter .15s ease;
  }
  .btn:active{
    transform:translateY(6px);
    box-shadow:
      0 8px 0 #1e6e25,
      0 10px 16px rgba(20,80,30,.25);
    filter:saturate(.95) brightness(.98);
  }

.avatar img{
  width:95%;
  height:95%;
  display:block;
}

.overlay {
    display: flex;
    justify-content: center;
    align-items: center;
}
.header > h1, .header > div  {
    font-family: Sans-serif;
    color: #7e5d4a;
    margin-bottom: 0.5rem;
}


.overlay-instructions{
  container-type: inline-size;
  width: clamp(240px, 80vw, 540px);
  margin: 0 auto; 
}

@container (max-width: 384px) {
   .players {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto;
    gap: 6cqw;
  }
  .arrow {
    flex-direction: row;
    justify-content: center;
    gap: 0;
    
  }
  .arrow .left {
    display: inline-block;
    transform:  rotate(90deg);
    font-size: 7cqw;
  }
  .arrow :nth-child(2) {
    display: inline-block;
    transform: rotate(-90deg);
    font-size: 7cqw;
  }

  avatar {
    width: 30cqw;
    height: 30cqw;
  }
  .rules li {
    padding-left: 0rem;
  }
}
</style>
</head>
<body>
<div class="overlay overlay-instructions">
  <main class="card card-explanation" role="main">
    <header class="header header-explanation">
      <h1 id="title" class="title">Anleitung</h1>
      <p class="subtitle">Spiel mit einem Freund zusammen!</p>
    </header>

    <section class="players">
        <div class="player">
            <div class="avatar">
                <img src="../../static/images/spieler1.png" alt="Benutzer Avatar">
            </div>
            <div class="label">SPIELER A</div>  
        </div>

        <div class="arrow" aria-hidden="true">
           <span class="left">➔</span>
           <span>➔</span>
        </div>

        <div class="player">
          <div class="avatar">
            <img src="../../static/images/spieler2.png" alt="Benutzer Avatar">
          </div>
          <div class="label">SPIELER B</div>
        </div>
    </section>

    <section class="rules" aria-label="Regeln">
      <ul>
        <li>Das Spiel wird von <strong>zwei Spielern</strong> gespielt:
          <ul>
            <li><strong>Spieler A</strong> betreibt Flohmarkt A</li>
            <li><strong>Spieler B</strong> betreibt Flohmarkt B</li>
          </ul>
        </li>

        <li>Es gibt einen <strong>Gesamtanteil von 1000 Verkäufen</strong> und <strong>100 Käufer</strong>, 
            die sich auf beide Märkte verteilen (nicht unbedingt vollständig verteilt).</li>

        <li>Das Spiel läuft <strong>rundenbasiert</strong> ab:
          <ul>
            <li>Die <strong>Anzahl der Runden</strong> wird auf der <strong>Konfigurationsseite</strong> eingestellt.</li>
            <li>Dort wählt man auch eine <strong>Kombination der Netzwerkeffekte</strong> aus.</li>
          </ul>
        </li>
        <li><strong>Ablauf einer Runde:</strong>
            <li>Beide Spieler legen <em>nacheinander</em> folgende Preise fest:
              <ul>
                <li><strong>Standmiete</strong> für Verkäufer</li>
                <li><strong>Eintrittsgebühr</strong> für Käufer</li>
              </ul>
            </li>
            <li>Danach werden automatisch berechnet:
              <ul>
                <li>Anzahl der Verkäufer auf jedem Markt</li>
                <li>Anzahl der Käufer auf jedem Markt</li>
                <li>Umsätze der beiden Spieler in dieser Runde</li>
              </ul>
            </li>
        </li>
        <li>Am Ende einer Runde sehen beide Spieler:
          <ul>
            <li>Ihre <strong>eigenen Ergebnisse</strong></li>
            <li>Die <strong>Ergebnisse des anderen Spielers</strong></li>
          </ul>
        </li>
        <li>Mit diesen Informationen setzen die Spieler in der <strong>nächsten Runde neue Preise</strong>.</li>
        <li><strong>Ziel:</strong> Jeder Spieler versucht, über die gesamte Spielzeit den <strong>maximalen Gesamtumsatz</strong> zu erreichen.</li>
        <li><strong>Spielende:</strong>
          <ul>
            <li>Nach der letzten Runde werden die <strong>Gesamtumsätze</strong> beider Spieler angezeigt.</li>
            <li>Der Spieler mit dem <strong>höheren Gesamtumsatz</strong> wird als <strong>Gewinner</strong> gekürt.</li>
          </ul>
        </li>
      </ul>
    </section>
    <a href="{% url 'welcome' %}">
      <button class="back btn-instruction">Verstanden!</button>
    </a>
  </main>

</body>
</html>
